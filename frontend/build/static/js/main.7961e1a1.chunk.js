(this["webpackJsonpbeans-and-leaves"]=this["webpackJsonpbeans-and-leaves"]||[]).push([[0],{27:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(13),n=a.n(c),i=a(2),r=(a(33),a(5)),l=(a(34),a.p+"static/media/about-img.87bd2070.jpeg"),o=a(0),j=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("section",{className:"about",id:"About",children:[Object(o.jsxs)("h1",{className:"heading",children:[" ",Object(o.jsx)("span",{children:"About"})," Us"]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"image",children:Object(o.jsx)("img",{src:l,alt:""})}),Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("h3",{children:"why choose beans & leaves?"}),Object(o.jsx)("p",{children:"At Beans & Leaves we are dedicated to procuring the best in coffee, tea, and accesories."}),Object(o.jsx)("p",{children:"Our team is always on the search for what products are going to offer the best when it comes to infusions from around the world"}),Object(o.jsx)("p",{children:"Have any questions? feel free to contact us!"}),Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/contact",children:Object(o.jsx)("span",{className:"btn",children:"Contact Us"})})]})]})]})})},u=(a(36),function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("section",{className:"contact",id:"Contact",children:[Object(o.jsxs)("h1",{className:"heading",children:[" ",Object(o.jsx)("span",{children:"Contact"})," ","Us"," "]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("iframe",{className:"map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3469.720323216416!2d-98.62109934865407!3d29.58273974710037!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x865c667dd6657fdd%3A0x24e55c903c3a270c!2sThe%20University%20of%20Texas%20at%20San%20Antonio!5e0!3m2!1sen!2sus!4v1645745026060!5m2!1sen!2sus",width:"600",height:"450",style:{border:0},allowfullscreen:"",loading:"lazy"}),Object(o.jsxs)("form",{children:[Object(o.jsx)("h3",{children:"Get in Touch"}),Object(o.jsxs)("div",{className:"inputBox",children:[Object(o.jsx)("span",{className:"fas fa-user"}),Object(o.jsx)("input",{type:"text",placeholder:"name"})]}),Object(o.jsxs)("div",{className:"inputBox",children:[Object(o.jsx)("span",{className:"fas fa-envelope"}),Object(o.jsx)("input",{type:"email",placeholder:"email"})]}),Object(o.jsxs)("div",{className:"inputBox",children:[Object(o.jsx)("span",{className:"fas fa-phone"}),Object(o.jsx)("input",{type:"number",placeholder:"number"})]}),Object(o.jsx)("a",{href:"/home",className:"btn",children:"submit"})]})]})]})})}),d=(a(37),function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("section",{className:"footer",children:[Object(o.jsxs)("nav",{className:"links",children:[Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/",children:Object(o.jsx)("span",{className:"header__navItems",children:"Home"})}),Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/menu",children:Object(o.jsx)("span",{className:"header_navItems",children:"Products"})}),Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/reviews",children:Object(o.jsx)("span",{className:"header__navItems",children:"Reviews"})}),Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/about",children:Object(o.jsx)("span",{className:"header__navItems",children:"About"})}),Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/contact",children:Object(o.jsx)("span",{className:"header_navItems",children:"Contact"})}),Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/login",children:Object(o.jsx)("span",{className:"header__navItems",children:"Login"})})]}),Object(o.jsx)("div",{className:"credit",children:"Group 13 | all rights reserved"})]})})}),b=a(4),m=(a(38),a.p+"static/media/home-img.82291e06.jpeg"),h=function(){var e=Object(b.f)();return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("section",{className:"home",id:"Home",style:{backgroundImage:"url(".concat(m,")")},children:Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("h3",{children:"Quality Infusions"}),Object(o.jsx)("p",{children:"coffee, tea, and everything in between."}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){e("/menu")},children:"See Products"})]})})})},O=a(3),p=a.n(O);a(57);var x=function(e){var t=e.uid,a=e.admin,c=[],n=Object(s.useState)(),r=Object(i.a)(n,2),l=r[0],j=r[1],u=Object(s.useState)(),d=Object(i.a)(u,2),m=d[0],h=d[1],O=Object(s.useState)(),x=Object(i.a)(O,2),f=x[0],g=x[1],N=Object(s.useState)(!0),v=Object(i.a)(N,2),_=v[0],y=v[1],S=Object(s.useState)(""),C=Object(i.a)(S,2),A=C[0],w=C[1],I=Object(s.useState)(null),D=Object(i.a)(I,2),k=D[0],E=D[1],q=Object(s.useState)(0),P=Object(i.a)(q,2),T=P[0],U=P[1],L=Object(s.useState)(0),R=Object(i.a)(L,2),B=R[0],F=R[1],H=Object(s.useState)(0),M=Object(i.a)(H,2),J=M[0],V=M[1],K="./images/",z=Object(b.f)();Object(s.useEffect)((function(){G()}),[]),Object(s.useEffect)((function(){t&&Y()}),[t]);var G=function(){p.a.get("/api/get/inventory").then((function(e){var t=JSON.parse(JSON.stringify(e.data));g(t),j(t),h(t),Q()}))},Y=function(){null!=t&&p.a.post("api/get/cart",{id:t}).then((function(e){var t=JSON.parse(JSON.stringify(e.data));E(t)}))},Z=function(){y(!0)},Q=function(){y(!1)};return _?Object(o.jsx)("div",{className:"App",children:"Loading Data..."}):Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("section",{className:"menu",id:"Menu",children:[Object(o.jsxs)("h1",{className:"heading",children:[" OUR ",Object(o.jsx)("span",{children:" PRODUCTS "})," "]}),Object(o.jsxs)("div",{class:"search",children:[Object(o.jsx)("div",{className:"search_head",for:"search",children:" Search Inventory "}),Object(o.jsx)("input",{value:A,onChange:function(e){return w(e.target.value)},className:"search_input",type:"search",id:"search"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){c=[],g(l),Z();var e=A;if(/^\s*$/.test(e))return h(l),void Q();l.map((function(t){(t.item_name.toLowerCase().includes(e.toLowerCase())||t.item_description.toLowerCase().includes(e.toLowerCase()))&&c.push(t)})),g(c),h(c),Q()},children:"Submit"}),Object(o.jsx)("div",{class:"box",children:Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){F(0),V(0),c=[],f.map((function(e){c.push(e)})),0===T?(c.sort((function(e,t){return e.item_name>t.item_name?1:-1})),U(1)):1===T?(c.sort((function(e,t){return e.item_name<t.item_name?1:-1})),U(2)):2===T&&(c=m,U(0)),g(c)},children:"Sort By Name"})}),Object(o.jsx)("div",{class:"box",children:Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){U(0),F(0),c=[],f.map((function(e){c.push(e)})),0===J?(c.sort((function(e,t){return e.item_stock>t.item_stock?1:-1})),V(1)):1===J?(c.sort((function(e,t){return e.item_stock<t.item_stock?1:-1})),V(2)):2===J&&(c=m,V(0)),g(c)},children:"Sort By Availability"})}),Object(o.jsx)("div",{class:"box",children:Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){U(0),V(0),c=[],f.map((function(e){c.push(e)})),0===B?(c.sort((function(e,t){return e.item_price>t.item_price?1:-1})),F(1)):1===B?(c.sort((function(e,t){return e.item_price<t.item_price?1:-1})),F(2)):2===B&&(c=m,F(0)),g(c)},children:"Sort By Price"})}),1===a&&Object(o.jsx)("div",{class:"box",children:Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){z("/createItem")},children:"Create Item"})})]}),Object(o.jsx)("div",{className:"box-container",children:f.map((function(e){var s,c="";return e.item_onsale?(s=e.item_saleprice.toFixed(2),c=e.item_price.toFixed(2)):s=e.item_price.toFixed(2),a?Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("img",{src:K+e.item_image,alt:""}),Object(o.jsx)("h3",{children:e.item_name}),Object(o.jsxs)("div",{className:"price",children:["$",s,Object(o.jsx)("span",{children:c})]}),Object(o.jsxs)("div",{className:"price",children:["Available: ",e.item_stock," "]}),Object(o.jsx)("div",{className:"desc",children:e.item_description}),Object(o.jsx)("button",{className:"btn",type:"Modify",onClick:function(){return t=e.item_id,void z("/modifyItem"+t);var t},children:"Modify Item"})]}):Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("img",{src:K+e.item_image,alt:""}),Object(o.jsx)("h3",{children:e.item_name}),Object(o.jsxs)("div",{className:"price",children:["$",s,Object(o.jsxs)("span",{children:[" ",c]})]}),Object(o.jsxs)("div",{className:"price",children:["Available: ",e.item_stock," "]}),Object(o.jsx)("div",{className:"desc",children:e.item_description}),e.item_stock>0&&Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){return function(e){var a=[];if(null==t)alert("You must login to add to your cart");else{var s=!0,c=!1;console.log("cart is",k),k.map((function(e){s=!1,a.push(e)}));var n={user_id:t,item_id:e.item_id,item_qty:1};a.map((function(t){t.item_id===e.item_id&&(c=!0,t.item_qty+=1,p.a.post("api/updateCartQty",{item_id:e.item_id,qty:t.item_qty}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))})),c&&!s||(p.a.post("api/addToCart",{uid:t,id:e.item_id,qty:1}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),a.push(n)),E(a),alert("Added to cart!")}}(e)},children:"Add to Cart"}),0===e.item_stock&&Object(o.jsx)("div",{className:"price",children:"Out of Stock"})&&Object(o.jsx)("button",{className:"btnDisabled",type:"submit",children:"Add to Cart"})]})}))})]})})};a(27);var f=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(i.a)(n,2),l=r[0],j=r[1],u=Object(s.useState)(""),d=Object(i.a)(u,2),m=d[0],h=d[1],O=Object(s.useState)(""),x=Object(i.a)(O,2),f=x[0],g=x[1],N=Object(s.useState)(""),v=Object(i.a)(N,2),_=v[0],y=v[1],S=Object(s.useState)(""),C=Object(i.a)(S,2),A=C[0],w=C[1],I=Object(s.useState)(""),D=Object(i.a)(I,2),k=D[0],E=D[1],q=Object(s.useState)(""),P=Object(i.a)(q,2),T=P[0],U=P[1],L=Object(s.useState)(""),R=Object(i.a)(L,2),B=R[0],F=R[1],H=Object(s.useState)(""),M=Object(i.a)(H,2),J=M[0],V=M[1],K=Object(b.f)(),z=function(){if(/[ `!@#$%^&*()_+\-=\[\]{};':"\\|,<>\/?~]/.test(J))return alert("Name for image must not contain any special characters other than '.' and must not contain spaces"),!1;if(B){var e=new FormData;e.append("name",J),e.append("image",B),p.a.post("/api/upload/image",e,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}else console.log("No image uploaded for item, no upload occurs");return!0};return Object(o.jsxs)("div",{className:"create_item",children:[Object(o.jsxs)("h1",{className:"heading",children:[" Create ",Object(o.jsx)("span",{children:"Item"})]}),Object(o.jsxs)("div",{className:"create_page",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{className:"create_logo",src:"./images/logo.png",alt:""})}),Object(o.jsx)("span",{className:"input_label",children:"Item ID:"}),Object(o.jsx)("input",{value:a,onChange:function(e){return c(e.target.value)},className:"item_input",type:"text",placeholder:"Item Name",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item Type:"}),Object(o.jsx)("input",{value:l,onChange:function(e){return j(e.target.value)},className:"item_input",type:"text",placeholder:"Item Type",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item Name:"}),Object(o.jsx)("input",{value:m,onChange:function(e){return h(e.target.value)},className:"item_input",type:"text",placeholder:"Item Name",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item Description:"}),Object(o.jsx)("textarea",{value:f,onChange:function(e){return g(e.target.value)},className:"item_description",placeholder:f,required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item Price"}),Object(o.jsx)("input",{value:_,onChange:function(e){return y(e.target.value)},className:"item_input",type:"text",placeholder:"Item Price",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item Stock:"}),Object(o.jsx)("input",{value:A,onChange:function(e){return w(e.target.value)},className:"item_input",type:"text",placeholder:"Item Stock",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"On Sale:"}),Object(o.jsx)("input",{value:k,onChange:function(e){return E(e.target.value)},className:"item_input",type:"text",placeholder:"On Sale?",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item On Sale Price"}),Object(o.jsx)("input",{value:T,onChange:function(e){return U(e.target.value)},className:"item_input",type:"text",placeholder:"Item Sale Price",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item Image"}),Object(o.jsx)("input",{onChange:function(e){var t=e.target.files[0],a=t.name;F(t),V(a)},name:"Upload File",className:"item_input",type:"file",required:!0}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){z()&&(p.a.post("api/insert/item",{id:a,type:l,name:m,description:f,price:_,stock:A,sale:k,sale_price:T,image:J}),alert("Item Created"),K("/menu"))},children:"Create Item"})]})]})};var g=function(e){e.uid;var t=e.admin,a=Object(s.useState)(""),c=Object(i.a)(a,2),n=c[0],r=c[1],l=Object(s.useState)(""),j=Object(i.a)(l,2),u=j[0],d=j[1],m=Object(s.useState)(""),h=Object(i.a)(m,2),O=h[0],x=h[1],f=Object(s.useState)(""),g=Object(i.a)(f,2),N=g[0],v=g[1],_=Object(s.useState)(""),y=Object(i.a)(_,2),S=y[0],C=y[1],A=Object(s.useState)(""),w=Object(i.a)(A,2),I=w[0],D=w[1],k=Object(s.useState)(""),E=Object(i.a)(k,2),q=E[0],P=E[1],T=Object(s.useState)(""),U=Object(i.a)(T,2),L=U[0],R=U[1],B=Object(s.useState)(""),F=Object(i.a)(B,2),H=F[0],M=F[1],J=Object(s.useState)(""),V=Object(i.a)(J,2),K=V[0],z=V[1],G=Object(s.useState)(""),Y=Object(i.a)(G,2),Z=Y[0],Q=Y[1],X=Object(s.useState)(!0),W=Object(i.a)(X,2),$=W[0],ee=W[1],te=Object(b.f)(),ae=Object(b.g)().id;Object(s.useEffect)((function(){se()}),[]);var se=function(){p.a.get("/api/get/inventory").then((function(e){var t=JSON.parse(JSON.stringify(e.data));console.log(t),t.map((function(e){e.item_id===ae&&(r(e.item_id),d(e.item_id),x(e.item_type),v(e.item_name),C(e.item_description),D(e.item_price),P(e.item_stock),R(e.item_onsale),M(e.item_saleprice),Q(e.item_image))})),ne()}))},ce=function(e){var t=new FormData;t.append("name",Z),t.append("image",K),p.a.post("/api/upload/image",t,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},ne=function(){ee(!1)};return $?Object(o.jsx)("div",{className:"App",children:"Fetching Data..."}):(null==t&&te("/home"),0==t?Object(o.jsxs)("h1",{className:"heading",children:[" UNAUTHORIZED",Object(o.jsx)("span",{children:"ACCESS"})]}):Object(o.jsxs)("div",{className:"create_item",children:[Object(o.jsxs)("h1",{className:"heading",children:[" Modify ",Object(o.jsx)("span",{children:"Item"})]}),Object(o.jsxs)("div",{className:"create_page",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{className:"create_logo",src:"./images/logo.png",alt:""})}),Object(o.jsx)("span",{className:"input_label",children:"Item ID:"}),Object(o.jsx)("input",{value:u,onChange:function(e){return d(e.target.value)},className:"item_input",type:"text",placeholder:u,required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item Type:"}),Object(o.jsx)("input",{value:O,onChange:function(e){return x(e.target.value)},className:"item_input",type:"text",placeholder:O,required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item Name:"}),Object(o.jsx)("input",{value:N,onChange:function(e){return v(e.target.value)},className:"item_input",type:"text",placeholder:N,required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item Description:"}),Object(o.jsx)("textarea",{value:S,onChange:function(e){return C(e.target.value)},className:"item_description",placeholder:S,required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item Price"}),Object(o.jsx)("input",{value:I,onChange:function(e){return D(e.target.value)},className:"item_input",type:"text",placeholder:I,required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item Stock:"}),Object(o.jsx)("input",{value:q,onChange:function(e){return P(e.target.value)},className:"item_input",type:"text",placeholder:q,required:!0}),Object(o.jsx)("span",{className:"input_label",children:"On Sale:"}),Object(o.jsx)("input",{value:L,onChange:function(e){return R(e.target.value)},className:"item_input",type:"text",placeholder:L,required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item On Sale Price"}),Object(o.jsx)("input",{value:H,onChange:function(e){return M(e.target.value)},className:"item_input",type:"text",placeholder:H,required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Item Image"}),Object(o.jsx)("input",{onChange:function(e){var t=e.target.files[0],a=t.name;z(t),Q(a)},name:"Upload File",className:"item_input",type:"file",required:!0}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){ce(),p.a.post("api/modifyItem",{id:n,updated_id:u,name:N,type:O,description:S,price:I,stock:q,sale:L,sale_price:H,image:Z}),te("/menu")},children:"Update Item"})]})]}))};a(58);var N=function(e){var t=Object(s.useState)(""),a=Object(i.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(""),l=Object(i.a)(r,2),j=l[0],u=l[1],d=Object(s.useState)(""),m=Object(i.a)(d,2),h=m[0],O=m[1],x=Object(s.useState)(!0),f=Object(i.a)(x,2),g=f[0],N=f[1],v=Object(b.f)(),_=Object(b.g)().id;Object(s.useEffect)((function(){y()}),[]);var y=function(){console.log("parameter_code",_),p.a.post("/api/get/discount",{code:_}).then((function(e){S();var t=JSON.parse(JSON.stringify(e.data));console.log("discount",t[0]),n(t[0].discount_code),u(t[0].discount_percent),O(t[0].discount_id),console.log("new discount is",t),C()}))},S=function(){N(!0)},C=function(){N(!1)};return g?Object(o.jsx)("div",{className:"App",children:"Fetching Data..."}):(null==e&&v("/home"),0==e?Object(o.jsxs)("h1",{className:"heading",children:[" UNAUTHORIZED",Object(o.jsx)("span",{children:"ACCESS"})]}):Object(o.jsxs)("div",{className:"modify_item",children:[Object(o.jsxs)("h1",{className:"heading",children:[" Modify ",Object(o.jsx)("span",{children:"Discount"})]}),Object(o.jsxs)("div",{className:"modify_page",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{className:"create_logo",src:"./images/logo.png",alt:""})}),Object(o.jsx)("span",{className:"input_label",children:"Discount Code:"}),Object(o.jsx)("input",{value:c,onChange:function(e){return n(e.target.value)},className:"item_input",type:"text",placeholder:c,required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Discount Percent:"}),Object(o.jsx)("input",{value:j,onChange:function(e){return u(e.target.value)},className:"item_input",type:"text",placeholder:j,required:!0}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){p.a.post("api/modify/discount",{code:c,percent:j,id:h}),v("/Discounts")},children:"Update Discount"})]})]}))},v=(a(59),function(e){var t=e.u_name,a=e.uid,s=e.admin,c=e.signOut;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{src:"./images/logo.png",alt:""})}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/",children:Object(o.jsx)("span",{className:"header__navItems",children:"Home"})}),Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/menu",children:Object(o.jsx)("span",{className:"header_navItems",children:"Products"})}),Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/reviews",children:Object(o.jsx)("span",{className:"header__navItems",children:"Reviews"})}),Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/about",children:Object(o.jsx)("span",{className:"header__navItems",children:"About"})}),Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/contact",children:Object(o.jsx)("span",{className:"header_navItems",children:"Contact"})}),null==a&&Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/login",children:Object(o.jsx)("span",{className:"header__navItems",children:"Log In"})}),1===s&&Object(o.jsx)(r.b,{style:{textDecoration:"none"},to:"/admin",children:Object(o.jsx)("span",{className:"header__navItems",children:"Admin"})})]}),Object(o.jsxs)("div",{className:"icons",children:[null!=a&&Object(o.jsx)(r.b,{to:"/cart",children:Object(o.jsx)("div",{className:"fas fa-shopping-cart",id:"cart-btn",children:" "})}),null!=a&&Object(o.jsxs)("div",{className:"heading",children:[" ",t," "]}),null!=a&&Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"btnOut",type:"submit",onClick:c,children:"Sign Out"})}),Object(o.jsx)("div",{className:"fas fa-bars",id:"menu-btn",onClick:function(){var e=document.querySelector(".navbar"),t=document.querySelector(".search-form");e.classList.toggle("active"),t.classList.remove("active")}})]}),Object(o.jsxs)("div",{className:"search-form",children:[Object(o.jsx)("input",{type:"search",id:"search-box",placeholder:"Search"}),Object(o.jsx)("label",{htmlFor:"search-box",className:"fas fa-search"})]})]})})}),_=(a(60),a.p+"static/media/pic-1.b105fe43.png"),y=a.p+"static/media/pic-2.5d5e42bf.png",S=a.p+"static/media/pic-3.1ef1ecba.png",C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAArCAYAAAApMZsWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAX7SURBVGhDvZppqFVVGIav3gabB6yMIhppoEK0CRu0qCxowpKysKCypKLBJjBUzOZ+5I/8UUkaDWr9qB9hXssSG7DIIRKSKCqnJgkarJyy59lrb9ln333OPefctX3h5fvW5tz77m/tvdb6vrV2n44SbO0atBNmVzgIngXPhIfBfWCGL1N+DD+AGzuHL92CbRvoej/94AHwEngiPAlmur/DVSnnwqWwKd2aQBHqxChyMRwNz4XNwEBfgwvgKoS3erEVoL0n5mR4G7wM7gV7QqY7H65tpFsMdCDmLngVVLhVfAQf1SL6V3KlCaA7AKPm47Ad3S44FdbV3R4oYsdhnoKXJhfaxwY4Ab6M6PrkSgOgezDmPngr3MNrbSLTnY3uj8mVHJJAETsK8yy8yHYkTIOTEf01NLsD3b0x4+GdcDevRcCLcBK6a0IzoG9q74AxgxS3w3EEs29olsI54AYYK0hxI3wIXYfDdvTlgjPr9aEZHXbgvcGtBbq7Yx6ANTcUCUmwwQ3wiTrD7p+04sOJZSxBnR6aNbCDTw1udOwCR6O7fb4x0PODWxn6w0eCW4PD4c7BrQSuvQ9v7RqczOIGaiJQNYbRuyekfoaq3qI8WJe3XaNjoNmEVCXMtJxZ89gRumpMyZxfdHYARvFUHTsZ1qW2agzwbTLQz0K7crhmnhbcBO/ATcGtHCMM1PSp6XStlzgltR0s6H9iFoVW5RhqoO9DE+MdgWIe+yC0EqkaA/vSs3/jPA2tAKrGEalNgLZl1hOwbpoYCf19ogp+g7kHzrJdIcqWFHNTta1tK0OxTDsacy28AFpwl8E3YCVcllorlAvhKNgTptOpY1K/Bmifh1HbIt9Kqgh1fc0zbdtmV83o1gYqEDSjsJoxkTB1OxBmWAHXwh+gpdB6X33+xt+/CstSvTym8nufXin4P2pKU0N1M+1M1yXJjlV7M7TEM+tKkoIG2NAt0DzSoPNrn7PzJm62WyXPb90d+CK06mIKfzsx9euC/2U1o26m3Uj3GMwS2GhHYnXDQFsBgo53x1kx1ctjDDc7PfWjINW1g91fqoe5yWQUAwTwH6ZRArAN2vNRker2NGuvjBZoE/gZfhvc6Fid2npYEDtQdxHr4T16/4/Uj439UluGf+DyaIEyVqwtG5VepppV4aDUlmEhHbwu5hN1ianXs65/leS1dLCde2RodYNzxgydmIGeDd0HKsMr9GpVOe0Q6C5GGb4mVXhbJ2agV6S2CNNL07yq0CgzmtY5fIljNE6gvD6mYueEVjfM4GlWMtumuvW2aT01eD248Z6oO+RlRwnL4fPBrQSmk2UToJnUBDr4t9CMECi9eh1meGjVwML6ScR6PJZoB+h6EFVvuHhK8ElwA3oVKGKmeybVZTvtL8C3ghsXqe4zsOwtsq5+jA6uydLaynURMjE4HjoO8memwsR7HkKeb0YFut6vFcs86LlpHqaYX8EhaHuOWoOWnyhiHtRar7q5VQzSvNMzUuvKqEDXez0Wui4Wg1TXCe+msiBFS08UsUMxjouyc0xPnRfDkYj9lFyJBHTVcmPN4eDmQB7qfg7vR9c3rBRNBYqQ6Z296AnZ1bB4jmm1b4o3ETGL5GhA20LciWccrNlzAhbfH8Lx6H6aXKmDHgNFyNMut0rcAinbXvHpuV5ZVEebYbfwFLk5J51boElBMetyCVkIPQt1k60h6ga6pWtwvz4d2y7HdUH2dS2ec/4LfVVnw5cQs91r0LHOAX5ioPYweAYs4ns4E85B1z2kHtEtUIRcKoZCJxzFTNaLcP9mDnwDLkNsoxd7g1T3EOjQUNsA/TImD9M5h4j7U/PRbbrsKwt0LMYPNgyweKzndwIG+CZcjFC0VxXdERgznfznNhnUdew/Bxeh23JKWba8DIZuN+aDdDyYbfjlyCToOhk743HScQ4oBmka6cn5zXBWO0GKskA94hOmcE7bBmaKNxm+i9Aa2KsPp5qA2h6TuI05EjoWV8C254GyV9ee87VV6DtoKrUZETOPyoDu3ZgroV+EOQbd8Crd4mwdHR3/A55Vr72NJU1mAAAAAElFTkSuQmCC",A=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("section",{className:"review",id:"Reviews",children:[Object(o.jsxs)("h1",{className:"heading",children:[" Customer ",Object(o.jsx)("span",{children:"Reviews"})," "]}),Object(o.jsxs)("div",{className:"box-container",children:[Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("img",{src:C,alt:"",className:"quote"}),Object(o.jsx)("p",{children:'"This stuff is great! I love their selection of infusions and accessories, all offered at fair prices."'}),Object(o.jsx)("img",{src:_,className:"user",alt:""}),Object(o.jsx)("h3",{children:"Johnathan Thomas"}),Object(o.jsxs)("div",{className:"stars",children:[Object(o.jsx)("i",{className:"fas fa-star"}),Object(o.jsx)("i",{className:"fas fa-star"}),Object(o.jsx)("i",{className:"fas fa-star"}),Object(o.jsx)("i",{className:"fas fa-star"}),Object(o.jsx)("i",{className:"fas fa-star"})]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("img",{src:C,alt:"",className:"quote"}),Object(o.jsx)("p",{children:'"Beans and Leaves had everything I need and more! Would definitely purchase from them again."'}),Object(o.jsx)("img",{src:y,className:"user",alt:""}),Object(o.jsx)("h3",{children:"Kate Beckinsale"}),Object(o.jsxs)("div",{className:"stars",children:[Object(o.jsx)("i",{className:"fas fa-star"}),Object(o.jsx)("i",{className:"fas fa-star"}),Object(o.jsx)("i",{className:"fas fa-star"}),Object(o.jsx)("i",{className:"fas fa-star"}),Object(o.jsx)("i",{className:"fas fa-star-half-alt"})]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("img",{src:C,alt:"",className:"quote"}),Object(o.jsx)("p",{children:'"If you\'re in the market for coffee or tea, look no further than Beans and leaves, the best in town."'}),Object(o.jsx)("img",{src:S,className:"user",alt:""}),Object(o.jsx)("h3",{children:"Chad Chaddsworth"}),Object(o.jsxs)("div",{className:"stars",children:[Object(o.jsx)("i",{className:"fas fa-star"}),Object(o.jsx)("i",{className:"fas fa-star"}),Object(o.jsx)("i",{className:"fas fa-star"}),Object(o.jsx)("i",{className:"fas fa-star"}),Object(o.jsx)("i",{className:"fas fa-star"})]})]})]})]})})},w=(a(61),function(e){e.uid,e.admin;var t=e.onLogin,a=Object(b.f)(),c=Object(s.useState)(""),n=Object(i.a)(c,2),r=n[0],l=n[1],j=Object(s.useState)(""),u=Object(i.a)(j,2),d=u[0],m=u[1];return Object(o.jsxs)("div",{className:"login",children:[Object(o.jsxs)("h1",{className:"heading",children:[" Log ",Object(o.jsx)("span",{children:" In "})]}),Object(o.jsxs)("div",{className:"login__page",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{className:"login__logo",src:"./images/logo.png",alt:""})}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(o.jsx)("span",{className:"login__email",children:"Email Address:"}),Object(o.jsx)("input",{value:r,onChange:function(e){return l(e.target.value)},className:"login__input",placeholder:"Email"}),Object(o.jsx)("span",{className:"login__password",children:"Password:"}),Object(o.jsx)("input",{value:d,onChange:function(e){return m(e.target.value)},className:"login__input",type:"password",placeholder:"Password",required:!0}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){p.a.post("/api/login/auth",{PassName:r,PassPW:d}).then((function(e){if("USERERR"===e.data)alert("User not found, please register with us!");else if("PASSERR"===e.data)alert("Incorrect combination of username and password");else{var s=JSON.parse(JSON.stringify(e.data));console.log(s),console.log(s[0].user_id,s[0].user_admin),t(s[0].user_first_name,s[0].user_id,s[0].user_admin),a("/home")}}))},children:"Log In"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){a("/Register")},children:"Register"}),Object(o.jsx)("span",{className:"login__head2",children:"Sign Up for emails to get special news and offers"}),Object(o.jsxs)("span",{className:"login__head3",children:["By signing up, you agree to our ",Object(o.jsx)("span",{className:"underlineHead3",children:"Privacy Policy"})," and ",Object(o.jsx)("span",{className:"underlineHead3",children:"Terms of Use"})]})]})]})]})}),I=a(10),D=(a(65),a(28)),k=a.n(D),E=[{sectionName:"header",navLogo:"./images/logo.png",navliName:["Home","Menu","Reviews","About","Contact","Login","Admin"]},{sectionName:"home",headerBgImage:"./images/home-img.jpeg",headerHeading:"Quality Infusions",headerParagraph:"coffee, tea, and everything in between.",headerBtn:"See More"},{sectionName:["about","us"],sectionImg:"./images/about-img.jpeg",sectionContentHeading:"why choose beans & leaves?",sectionContentParagraph:["At Beans & Leaves we are dedicated to procuring the best in coffee, tea, and accesories.","Our team is always on the search for what products are going to offer the best when it comes to infusions from around the world","Have any questions? feel free to contact us!"],sectionBtn:"learn more"},{sectionName:["our","menu"],menuImages:["./images/menu-1.png","./images/menu-2.png","./images/menu-3.png","./images/menu-4.png","./images/menu-5.png","./images/menu-6.png"],menuHeading:"Fresh Roast",menuPrice:"5.00",menuDiscountPrice:"10.00",menuBtn:"add to cart"},{sectionName:["our","accessories"],accImages:["./images/acc-1.png","./images/acc-2.png","./images/acc-3.png"],accTitle:"Accessory Title",accPrice:"35.99",accDiscountPrice:"45.99",accBtn:"add to cart"},{sectionName:["customer","reviews"],reviewQuoteImage:"./images/quote-img.png",reviewPersonName:["Johnathan Taylor-Thomas","Kate Beckinsale","Chad Chaddsworth"],reviewPersonImages:["./images/pic-1.png","./images/pic-2.png","./images/pic-3.png"],reviewParagraphs:["This stuff is great! I love their selection of infusions and accessories, all offered at fair prices.","Beans and Leaves had everything I need! Would definitely purchase from them again.","If you're in the market for coffee or tea, look no further than Beans and leaves, the best in town."]},{sectionName:["contact","us"],formTitle:"get in touch",contactBtn:"Submit"},{sectionName:["log","in"],formTitle:"log in",contactBtn:"log in"},{sectionName:"footer",footerDescription:["Group 13 | all rights reserved"],footerLi:["Home","Menu","Reviews","About","Contact","Login","Admin"]}];a(84);var q=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(i.a)(n,2),l=r[0],j=r[1],u=Object(s.useState)(""),d=Object(i.a)(u,2),m=d[0],h=d[1],O=Object(s.useState)(""),x=Object(i.a)(O,2),f=x[0],g=x[1],N=Object(s.useState)(""),v=Object(i.a)(N,2),_=v[0],y=v[1],S=Object(s.useState)(""),C=Object(i.a)(S,2),A=C[0],w=C[1],I=Object(s.useState)(""),D=Object(i.a)(I,2),k=D[0],E=D[1],q=Object(b.f)(),P=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,4}\b/,T=/(?=[A-Za-z0-9@#*$%^&+!=]+$)^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@#$%^&+!*=])(?=.{8,}).*$/,U=/^[0-9]+$/;return Object(o.jsxs)("div",{className:"create_item",children:[Object(o.jsxs)("h1",{className:"heading",children:[" REGISTER ",Object(o.jsx)("span",{children:"USER"})]}),Object(o.jsxs)("div",{className:"create_page",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{className:"create_logo",src:"./images/logo.png",alt:""})}),Object(o.jsx)("span",{className:"input_label",children:"User Email:"}),Object(o.jsx)("input",{onChange:function(e){return c(e.target.value)},className:"item_input",type:"text",placeholder:"Email",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"First Name:"}),Object(o.jsx)("input",{onChange:function(e){return j(e.target.value)},className:"item_input",type:"text",placeholder:"First Name",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Last Name:"}),Object(o.jsx)("input",{onChange:function(e){return h(e.target.value)},className:"item_input",type:"text",placeholder:"Last Name",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Phone Number:"}),Object(o.jsx)("input",{id:"phoneNumber",maxLength:16,onChange:function(e){return E(e.target.value)},className:"item_input",placeholder:"Phone",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"User Address:"}),Object(o.jsx)("input",{onChange:function(e){return w(e.target.value)},className:"item_input",type:"text",placeholder:"Address",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Password:"}),Object(o.jsx)("input",{onChange:function(e){return g(e.target.value)},className:"item_input",type:"password",placeholder:"Password",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Confirm Password:"}),Object(o.jsx)("input",{onChange:function(e){return y(e.target.value)},className:"item_input",type:"password",placeholder:"Confirm Password",required:!0}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){P.test(a)?T.test(f)?U.test(k)?p.a.post("/api/register/validate",{email:a}).then((function(e){console.log(e),"not valid"!=e.data?"valid"==e.data&&(_===f?(p.a.post("/api/register/insert",{first:l,last:m,email:a,address:A,number:k,password:f}),alert("Thank you for registering ",l,"!"),q("/Login")):alert("The passwords do not match, please check and try again")):alert("This email already has an account associated with it")})):alert("Please enter a valid number.\nNo dashes, hyphens, or characters please."):alert("Please enter a valid password.\nPasswords must contain 8 characters,1 upper case,1 lower case, 1 number, and 1 special character(!,@,#,$,%,etc)"):alert("Please enter a valid email address")},children:"Register"}),Object(o.jsx)("span",{className:"create_head2",children:"Sign Up for emails to get special news and offers"}),Object(o.jsxs)("span",{className:"create_head3",children:["By signing up, you agree to our ",Object(o.jsx)("span",{className:"underlineHead3",children:"Privacy Policy"})," and ",Object(o.jsx)("span",{className:"underlineHead3",children:"Terms of Use"})]})]})]})};a(85);var P=function(e){e.admin;var t=Object(b.f)();return 1,Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"create_discount",children:[Object(o.jsxs)("h1",{className:"heading",children:[" Admin ",Object(o.jsx)("span",{children:"Portal"})]}),Object(o.jsxs)("div",{className:"create_page",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{className:"create_logo",src:"./images/logo.png",alt:""})}),Object(o.jsx)("span",{className:"input_label"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){t("/ModifyUser")},children:"Users"}),Object(o.jsx)("span",{className:"input_label"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){t("/Discounts")},children:"Discounts"}),Object(o.jsx)("span",{className:"input_label"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){t("/Menu")},children:"Inventory"}),Object(o.jsx)("span",{className:"input_label"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){t("/Orders")},children:"Orders"})]})]})})};a(86);var T=function(e){var t=e.admin,a=Object(s.useState)(""),c=Object(i.a)(a,2),n=c[0],r=c[1],l=Object(s.useState)(""),j=Object(i.a)(l,2),u=j[0],d=j[1],m=Object(s.useState)(""),h=Object(i.a)(m,2),O=h[0],x=h[1],f=Object(s.useState)(""),g=Object(i.a)(f,2),N=g[0],v=g[1],_=Object(s.useState)(""),y=Object(i.a)(_,2),S=y[0],C=y[1],A=Object(s.useState)(""),w=Object(i.a)(A,2),I=w[0],D=w[1],k=Object(s.useState)(""),E=Object(i.a)(k,2),q=E[0],P=E[1],T=Object(s.useState)(""),U=Object(i.a)(T,2),L=U[0],R=U[1],B=Object(s.useState)(""),F=Object(i.a)(B,2),H=F[0],M=F[1],J=Object(s.useState)(""),V=Object(i.a)(J,2),K=V[0],z=V[1],G=Object(s.useState)(""),Y=Object(i.a)(G,2),Z=Y[0],Q=Y[1],X=Object(s.useState)(""),W=Object(i.a)(X,2),$=W[0],ee=W[1],te=Object(s.useState)(""),ae=Object(i.a)(te,2),se=ae[0],ce=ae[1],ne=Object(s.useState)(""),ie=Object(i.a)(ne,2),re=ie[0],le=ie[1],oe=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,4}\b/,je=/(?=[A-Za-z0-9@#$%^&+!=]+$)^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@#$%^&+!=])(?=.{8,}).*$/,ue=Object(b.f)(),de=Object(s.useState)([]),be=Object(i.a)(de,2),me=be[0],he=be[1];return Object(s.useEffect)((function(){me.map((function(e){le(e.user_id),R(e.user_email),z(e.user_first_name),Q(e.user_last_name),ce(e.user_address),ee(e.user_phone),M(e.password)})),""==u&&d(L),""===N&&v(K),""===S&&C(Z),""===I&&D($),""===q&&P(se),""===O&&x(H)})),null==t&&ue("/home"),Object(o.jsxs)("div",{className:"create_item",children:[Object(o.jsxs)("h1",{className:"heading",children:["Modify",Object(o.jsx)("span",{children:"USER"})]}),Object(o.jsxs)("div",{className:"create_page",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{className:"create_logo",src:"./images/logo.png",alt:""})}),Object(o.jsx)("span",{className:"input_label",children:"Find Email:"}),Object(o.jsx)("input",{onChange:function(e){return r(e.target.value)},className:"item_input",type:"text",placeholder:"Email"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){oe.test(n)?p.a.post("/api/admin/user/find",{email:n}).then((function(e){""==e.data?(he(e.data),alert("User could not be found")):he(e.data)})):alert("Please enter a valid email address")},children:"Find"})]}),Object(o.jsxs)("div",{className:"create_item",children:[Object(o.jsx)("h1",{className:"heading",children:Object(o.jsx)("span",{children:"USER"})}),Object(o.jsx)("div",{className:"create_page",children:me.map((function(e,t){return Object(o.jsx)("div",{className:"UserInfo",children:Object(o.jsxs)("label",{style:{fontSize:"15px"},children:["Email: ",e.user_email,Object(o.jsx)("br",{}),"Name: ",e.user_first_name," ",e.user_last_name,Object(o.jsx)("br",{}),"Phone: ",e.user_phone,Object(o.jsx)("br",{}),"Address: ",e.user_address,Object(o.jsx)("br",{}),"Password: ",e.password]})},t)}))})]}),Object(o.jsxs)("div",{className:"create_item",children:[Object(o.jsx)("h1",{className:"heading",children:"MODIFY"}),Object(o.jsxs)("div",{className:"create_page",children:[Object(o.jsx)("span",{className:"input_label",children:"Email"}),Object(o.jsx)("input",{onChange:function(e){return d(e.target.value)},className:"item_input",type:"text",placeholder:"Email"}),Object(o.jsx)("span",{className:"input_label",children:"First Name"}),Object(o.jsx)("input",{onChange:function(e){return v(e.target.value)},className:"item_input",type:"text",placeholder:"First Name"}),Object(o.jsx)("span",{className:"input_label",children:"Last Name"}),Object(o.jsx)("input",{onChange:function(e){return C(e.target.value)},className:"item_input",type:"text",placeholder:"Last Name"}),Object(o.jsx)("span",{className:"input_label",children:"Phone"}),Object(o.jsx)("input",{onChange:function(e){return D(e.target.value)},className:"item_input",type:"text",placeholder:"Phone"}),Object(o.jsx)("span",{className:"input_label",children:"Address"}),Object(o.jsx)("input",{onChange:function(e){return P(e.target.value)},className:"item_input",type:"text",placeholder:"Address"}),Object(o.jsx)("span",{className:"input_label",children:"Password"}),Object(o.jsx)("input",{onChange:function(e){return x(e.target.value)},className:"item_input",type:"text",placeholder:"Password"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){""!=n||0!=me.length?oe.test(u)?je.test(O)?(le(re),p.a.post("/api/admin/user/update",{email:u,firstname:N,lastname:S,phone:I,address:q,password:O,userID:re}).then((function(e){he(e.data)})),alert("User Updated")):alert("Please enter a valid password\nPassword must contain 8 characters, 1 upper case, 1 lower case, 1 number, and 1 special character."):alert("Please enter a valid email address"):alert("Please find a user first")},children:"Update"})]})]})]})};a(87);var U=function(e){e.admin;var t=Object(s.useState)(""),a=Object(i.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(""),l=Object(i.a)(r,2),j=l[0],u=l[1],d=Object(s.useState)(),m=Object(i.a)(d,2),h=m[0],O=m[1],x=Object(s.useState)(!0),f=Object(i.a)(x,2),g=f[0],N=f[1],v=Object(b.f)();Object(s.useEffect)((function(){_()}),[]);var _=function(){p.a.post("/api/admin/discount/get").then((function(e){var t=JSON.parse(JSON.stringify(e.data));O(t),y()}))},y=function(){N(!1)};return g?Object(o.jsx)(o.Fragment,{children:"Loading.."}):(1,Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("section",{className:"menu",id:"Menu",children:Object(o.jsxs)("div",{className:"create_discount",children:[Object(o.jsxs)("h1",{className:"heading",children:[" Add ",Object(o.jsx)("span",{children:"Discount"})]}),Object(o.jsxs)("div",{className:"create_page",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{className:"create_logo",src:"./images/logo.png",alt:""})}),Object(o.jsx)("span",{className:"input_label",children:"Discount Code"}),Object(o.jsx)("input",{onChange:function(e){return n(e.target.value)},className:"item_input",type:"text",placeholder:"Discount Code",required:!0}),Object(o.jsx)("span",{className:"input_label",children:"Discount Amount:"}),Object(o.jsx)("input",{onChange:function(e){return u(e.target.value)},className:"item_input",type:"text",placeholder:"Percent Amount",required:!0}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){p.a.post("/api/admin/discount/insert",{code:c,percent:j}),N(!0),_()},children:" Add Discount "})]})]})}),Object(o.jsxs)("section",{className:"menu",id:"Menu",children:[Object(o.jsxs)("h1",{className:"heading",children:[" CURRENT ",Object(o.jsx)("span",{children:" DISCOUNTS "})," "]}),Object(o.jsx)("div",{className:"box-container",children:h.map((function(e){return Object(o.jsxs)("div",{className:"box",children:[Object(o.jsxs)("h3",{children:["Code: ",e.discount_code]}),Object(o.jsxs)("div",{className:"code",children:["Amount: ",e.discount_percent,"%"]}),Object(o.jsx)("button",{className:"btn",type:"Modify",onClick:function(){return t=e.discount_code,void v("/modifyDiscount"+t);var t},children:"Modify Discount"})]})}))})]})]}))};a(88);var L=function(e){var t=e.admin,a=[],c=Object(s.useState)(null),n=Object(i.a)(c,2),r=n[0],l=n[1],j=Object(s.useState)(null),u=Object(i.a)(j,2),d=u[0],m=u[1],h=Object(s.useState)(null),O=Object(i.a)(h,2),x=O[0],f=O[1],g=Object(s.useState)(null),N=Object(i.a)(g,2),v=N[0],_=N[1],y=Object(s.useState)(!0),S=Object(i.a)(y,2),C=S[0],A=S[1],w=Object(s.useState)(""),I=Object(i.a)(w,2),D=I[0],k=I[1],E=Object(s.useState)(null),q=Object(i.a)(E,2),P=q[0],T=q[1],U=Object(s.useState)(0),L=Object(i.a)(U,2),R=L[0],B=L[1],F=Object(s.useState)(0),H=Object(i.a)(F,2),M=H[0],J=H[1],V=Object(s.useState)(0),K=Object(i.a)(V,2),z=K[0],G=K[1],Y=Object(s.useState)(0),Z=Object(i.a)(Y,2),Q=Z[0],X=Z[1],W=Object(b.f)();Object(s.useEffect)((function(){$()}),[]),Object(s.useEffect)((function(){r&&(console.log(r),ee())}),[r]),Object(s.useEffect)((function(){P&&(console.log(P),te())}),[P]),Object(s.useEffect)((function(){d&&se()}),[d]);var $=function(){console.log("fetch orders"),p.a.get("/api/get/orders").then((function(e){var t=JSON.parse(JSON.stringify(e.data));l(t)}))},ee=function(){console.log("fetch users"),p.a.get("/api/get/users").then((function(e){var t=JSON.parse(JSON.stringify(e.data));T(t)}))},te=function(){console.log("combine");var e=[];P.map((function(t){r.map((function(a){if(t.user_id===a.orders_user){var s=a;s.first=t.user_first_name,s.last=t.user_last_name,0==a.orders_completed?a.orders_completed="No":a.orders_completed="Yes";var c=new Date(a.orders_date),n=c.getUTCMonth()+1,i=c.getUTCDate(),r=c.getUTCFullYear();s.date=r+n+i,a.orders_date=c.toDateString();var l=a.orders_items;l=JSON.parse(l),console.log("List ",l),Object.keys(l).map((function(e){console.log("Key is ",e," Value is ",l[e])})),console.log("Item list",l),s.itemqty=l,e.push(s)}}))})),m(e),_(e),f(e)},ae=function(){A(!0)},se=function(){A(!1)};return null==t&&W("/home"),C?Object(o.jsx)("div",{className:"App",children:"Loading Data..."}):Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("section",{className:"menu",id:"Menu",children:[Object(o.jsxs)("h1",{className:"heading",children:[" ORDER ",Object(o.jsx)("span",{children:" LIST "})," "]}),Object(o.jsxs)("div",{class:"search",children:[Object(o.jsx)("div",{className:"search_head",for:"search",children:" Search Orders "}),Object(o.jsx)("input",{value:D,onChange:function(e){return k(e.target.value)},className:"search_input",type:"search",id:"search"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){_(d)},children:"Show All Orders"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){_(d),d.map((function(e){"No"===e.orders_completed&&a.push(e)})),_(a)},children:"Show Currently Placed Orders"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){_(d),d.map((function(e){"Yes"===e.orders_completed&&a.push(e)})),_(a)},children:"Show Order History"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){a=[],_(d);var e=D;if(/^\s*$/.test(e))return f(d),void se();d.map((function(t){t.orders_id==e&&a.push(t)})),_(a),f(a)},children:"Search Orders by ID"}),Object(o.jsx)("div",{class:"box",children:Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){a=[],_(d);var e=D;if(/^\s*$/.test(e))return f(d),void se();d.map((function(t){(t.first.toLowerCase().includes(e.toLowerCase())||t.last.toLowerCase().includes(e.toLowerCase()))&&a.push(t)})),_(a),f(a)},children:"Search Orders by User"})}),Object(o.jsx)("div",{class:"box",children:Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){B(0),G(0),X(0),a=[],v.map((function(e){a.push(e)})),0===M?(a.sort((function(e,t){return e.orders_id>t.orders_id?1:-1})),J(1)):1===M?(a.sort((function(e,t){return e.orders_id<t.orders_id?1:-1})),J(2)):2===M&&(a=x,J(0)),_(a)},children:"Sort By ID"})}),Object(o.jsx)("div",{class:"box",children:Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){B(0),G(0),J(0),a=[],v.map((function(e){a.push(e)})),0===Q?(a.sort((function(e,t){return e.orders_total>t.orders_total?1:-1})),X(1)):1===Q?(a.sort((function(e,t){return e.orders_total<t.orders_total?1:-1})),X(2)):2===Q&&(a=x,X(0)),_(a)},children:"Sort By Price"})}),Object(o.jsx)("div",{class:"box",children:Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){X(0),G(0),J(0),a=[],v.map((function(e){a.push(e)})),0===R?(a.sort((function(e,t){return e.date>t.date?1:-1})),B(1)):1===R?(a.sort((function(e,t){return e.date<t.date?1:-1})),B(2)):2===R&&(a=x,B(0)),_(a)},children:"Sort By Name"})}),Object(o.jsx)("div",{class:"box",children:Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){B(0),J(0),X(0),a=[],v.map((function(e){a.push(e)})),console.log("Order date compare",a[0].date),console.log("Order date compare",a[1].date),console.log("Order date compare",a[1].date<a[0].date),console.log("Order date compare",a[1].date>a[0].date),0===z?(a.sort((function(e,t){return e.date>t.date?1:-1})),G(1)):1===z?(a.sort((function(e,t){return e.date<t.date?1:-1})),G(2)):2===z&&(a=x,G(0)),_(a)},children:"Sort By Date"})})]}),Object(o.jsx)("div",{className:"box-container",children:v.map((function(e){return Object(o.jsxs)("div",{className:"box",children:[Object(o.jsxs)("div",{className:"price",children:["Order ID: ",e.orders_id," "]}),Object(o.jsxs)("div",{className:"price",children:["Date: ",e.orders_date," "]}),Object(o.jsxs)("div",{className:"price",children:["Order Total: $",e.orders_total," "]}),Object(o.jsxs)("div",{className:"price",children:["User: ",e.first," ",e.last," "]}),Object(o.jsxs)("div",{className:"price",children:["Completed: ",e.orders_completed," "]}),Object(o.jsx)("div",{className:"price_underline",children:" Items "}),Object.keys(e.itemqty).map((function(t){console.log(t);var a=e.itemqty[t];return Object(o.jsxs)("div",{className:"price",children:[t," : ",a," "]})})),"No"===e.orders_completed&&Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){return function(e){console.log(e);var t=parseInt(e);p.a.post("/api/orders/update",{orders_id:t,orders_completed:1}),ae(),$(),se()}(e.orders_id)},children:"Complete Order"})]})}))})]})})},R=(a(89),function(e){var t=e.uid,a=(e.uname,Object(s.useState)(null)),c=Object(i.a)(a,2),n=c[0],r=c[1],l=Object(s.useState)(null),j=Object(i.a)(l,2),u=j[0],d=j[1],m=Object(s.useState)(null),h=Object(i.a)(m,2),O=h[0],x=h[1],f=Object(s.useState)(!1),g=Object(i.a)(f,2),N=g[0],v=g[1],_=Object(s.useState)(!0),y=Object(i.a)(_,2),S=y[0],C=y[1],A=Object(s.useState)(null),w=Object(i.a)(A,2),I=w[0],D=w[1],k=Object(s.useState)(0),E=Object(i.a)(k,2),q=E[0],P=E[1],T=Object(s.useState)(0),U=Object(i.a)(T,2),L=U[0],R=U[1],B=Object(s.useState)(0),F=Object(i.a)(B,2),H=F[0],M=F[1],J=Object(s.useState)(0),V=Object(i.a)(J,2),K=V[0],z=V[1],G=Object(s.useState)(!0),Y=Object(i.a)(G,2),Z=Y[0],Q=Y[1],X=Object(b.f)();Object(s.useEffect)((function(){W()}),[]),Object(s.useEffect)((function(){n&&t&&(console.log("UseEffect: Fetching cart"),console.log("Inventory is",n),$())}),[n,t]),Object(s.useEffect)((function(){u&&(console.log("UseEffect: Setting details"),console.log(u),te())}),[u]),Object(s.useEffect)((function(){I&&null!=L&&(console.log("UseEffect: Calculating total"),ee())}),[I,L]),Object(s.useEffect)((function(){H&&K&&q&&!Z&&(console.log("UseEffect: setting loaded"),ae())}),[H,K,q,Z]);var W=function(){console.log("Function: fetchInventory"),p.a.get("/api/get/inventory").then((function(e){var t=JSON.parse(JSON.stringify(e.data));r(t)}))},$=function(){console.log("Function: fetchCart"),p.a.post("/api/get/cart",{id:t}).then((function(e){var t=JSON.parse(JSON.stringify(e.data));console.log("length is",Object.keys(t).length),0!=Object.keys(t).length&&(console.log("Not empty!"),Q(!1)),d(t)})).catch((function(e){console.log(e)}))},ee=function(){var e=0;I.map((function(t){e+=t.item_price*t.qty})),console.log("Discount",L),null!=L&&(e*=1-L),P(e),z(.0825*e),M(1.0825*e)},te=function(){var e=[];n.map((function(t){u.map((function(a){if(a.item_id===t.item_id){var s=t,c=t.item_price;s.qty=a.item_qty,1==t.item_onsale&&(c=t.item_saleprice),s.item_price=c,e.push(s)}}))})),console.log("cart details",e),D(e)},ae=function(){C(!1)};return Z?Object(o.jsx)("h1",{className:"heading",children:" CART IS EMPTY "}):S?Object(o.jsxs)("h1",{className:"heading",children:[" FETCHING",Object(o.jsx)("span",{children:"DATA"})]}):null==t?Object(o.jsxs)("h1",{className:"heading",children:[" PLEASE",Object(o.jsx)("span",{children:" LOG IN"})]}):Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("section",{className:"menu",id:"Menu",children:[Object(o.jsxs)("h1",{className:"heading",children:[" Shopping ",Object(o.jsx)("span",{children:" Cart "})," "]}),Object(o.jsxs)("div",{className:"cart_item",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{className:"cart_logo",src:"./images/logo.png",alt:""})}),I.map((function(e){return Object(o.jsxs)("div",{class:"row",children:[Object(o.jsx)("div",{class:"column",children:e.item_name}),Object(o.jsxs)("div",{class:"column",children:["Price: $",e.item_price.toFixed(2)]}),Object(o.jsxs)("div",{class:"column",children:["Quantity: ",e.qty]}),Object(o.jsxs)("div",{class:"column",children:[Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){return function(e){var t=[];I.map((function(a){var s=a;a.item_id==e.item_id&&(s.qty+=1,p.a.post("api/updateCartQty",{item_id:e.item_id,qty:s.qty}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))),t.push(s)})),ee(),D(t)}(e)},children:"+"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){return function(e){var t=[];I.map((function(a){var s=a;a.item_id==e.item_id&&(1!=s.qty&&(s.qty-=1,p.a.post("api/updateCartQty",{item_id:e.item_id,qty:s.qty}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))),console.log()),t.push(s)})),ee(),D(t)}(e)},children:"-"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){return function(e){var a=[];I.map((function(s){e.item_id!=s.item_id&&(a.push(s),p.a.post("/api/cart/delete/item",{user:t,id:e.item_id}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))})),D(a)}(e)},children:"Remove"})]})]})})),Object(o.jsx)("input",{onChange:function(e){return x(e.target.value)},className:"cart_input",type:"text",placeholder:"XXXXX"}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){N?alert("Sorry, you can only use one discount code per order"):p.a.post("/api/get/discount",{code:O}).then((function(e){C(!0);var t=JSON.parse(JSON.stringify(e.data));t=t[0].discount_percent/100,R(t),v(!0)}))},children:"Apply Discount"}),Object(o.jsxs)("div",{class:"row",children:[0==L&&Object(o.jsxs)("div",{class:"column",children:["Sub-Total (Without Discount): $",q.toFixed(2)]}),L>0&&Object(o.jsxs)("div",{class:"column",children:["Sub-Total $",q.toFixed(2)," (with discount of ",L.toFixed(2),")"]})]}),Object(o.jsx)("div",{class:"row",children:Object(o.jsxs)("div",{class:"column",children:["Tax: $",K.toFixed(2)]})}),Object(o.jsx)("div",{class:"row",children:Object(o.jsxs)("div",{class:"column",children:["Total: $",H.toFixed(2)]})}),Object(o.jsx)("button",{className:"btn",type:"submit",onClick:function(){var e=new Date,a={},s=!0;I.map((function(e){e.item_stock-e.qty<0?s=!1:a[e.item_id]=e.qty})),s?(p.a.post("/api/cart/checkout",{date:e,items:a,t_total:H.toFixed(2),user:t,status:0}).then((function(e){console.log(e)})).catch((function(e){console.log(e.message)})),I.map((function(e){var t=e.item_stock-e.qty;p.a.post("/api/item/updateQty",{id:e.item_id,qty:t}).catch((function(e){console.log(e)}))})),p.a.post("/api/cart/delete",{user:t}),alert("Thank you for your purchase!"),X("/home")):alert("Order cannot be filled due to low inventory levels")},children:"Complete Checkout"})]})]})})});var B=function(){var e=Object(I.b)(),t=Object(s.useState)(null),a=Object(i.a)(t,2),c=a[0],n=a[1],l=Object(s.useState)(null),m=Object(i.a)(l,2),O=m[0],p=m[1],_=Object(s.useState)(null),y=Object(i.a)(_,2),S=y[0],C=y[1],D=Object(s.useState)(null),B=Object(i.a)(D,2),F=B[0],H=B[1];return Object(s.useLayoutEffect)((function(){try{setTimeout((function(){e({type:"GET_DATA",payload:E}),n(E)}),5e3)}catch(t){console.log(t)}})),Object(o.jsxs)(o.Fragment,{children:[!c&&Object(o.jsx)("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(o.jsx)(k.a,{type:"Rings",color:"#6ac7ba",height:80,width:80,timeout:5e3})}),c&&Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{children:Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)(v,{u_name:F,admin:S,uid:O,signOut:function(){H(null),p(null),C(null)}}),Object(o.jsxs)(b.c,{children:[Object(o.jsx)(b.a,{path:"/",element:Object(o.jsx)(h,{})}),Object(o.jsx)(b.a,{path:"/home",element:Object(o.jsx)(h,{})}),Object(o.jsx)(b.a,{path:"/menu",element:Object(o.jsx)(x,{uid:O,admin:S})}),Object(o.jsx)(b.a,{path:"/reviews",element:Object(o.jsx)(A,{})}),Object(o.jsx)(b.a,{path:"/about",element:Object(o.jsx)(j,{})}),Object(o.jsx)(b.a,{path:"/contact",element:Object(o.jsx)(u,{})}),Object(o.jsx)(b.a,{path:"/Login",element:Object(o.jsx)(w,{uid:O,admin:S,onLogin:function(e,t,a){H(e),p(t),C(a)}})}),Object(o.jsx)(b.a,{path:"/ModifyUser",element:Object(o.jsx)(T,{admin:S})}),Object(o.jsx)(b.a,{path:"/Discounts",element:Object(o.jsx)(U,{admin:S})}),Object(o.jsx)(b.a,{path:"/Register",element:Object(o.jsx)(q,{})}),Object(o.jsx)(b.a,{path:"/admin",element:Object(o.jsx)(P,{admin:S})}),Object(o.jsx)(b.a,{path:"/createItem",element:Object(o.jsx)(f,{})}),Object(o.jsx)(b.a,{path:"/modifyItem:id",element:Object(o.jsx)(g,{admin:S})}),Object(o.jsx)(b.a,{path:"/modifyDiscount:id",element:Object(o.jsx)(N,{admin:S})}),Object(o.jsx)(b.a,{path:"/orders",element:Object(o.jsx)(L,{admin:S})}),Object(o.jsx)(b.a,{path:"/cart",element:Object(o.jsx)(R,{uid:O,uname:F})})]}),Object(o.jsx)(d,{})]})})})]})},F=a(18),H=Object(F.a)({reducer1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return console.log(e,t,"reducer1"),"GET_DATA"===t.type?e=t.payload:e}}),M=Object(F.b)(H);M.subscribe((function(){return console.log(M.getState())})),n.a.render(Object(o.jsx)(I.a,{store:M,children:Object(o.jsx)(B,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.7961e1a1.chunk.js.map